# Example environment configuration for hadlink
# Copy to .env or export these variables before starting the service.
#
# For Docker deployments, the deploy script generates .env automatically.
# For systemd, these go in /etc/hadlink/hadlink.conf and /etc/hadlink/secret.conf.

# --- Required ---

# HMAC secret for short code generation (exactly 32 hex characters)
# Generate with: openssl rand -hex 16
HADLINK_SECRET=

# --- Optional ---

# Port for the service (default: 8443 for shorten, 8080 for redirect)
# HADLINK_PORT=8443

# Path to SQLite database
# HADLINK_STORAGE=/var/lib/hadlink/hadlink.db

# Base URL for short link responses (default: http://localhost:$HADLINK_PORT)
# Set this to your public-facing URL in production
# HADLINK_BASE_URL=https://s.example.com

# Proof-of-work difficulty (0 = disabled, recommended range: 12-20)
# HADLINK_POW_DIFFICULTY=0

# Proof-of-work difficulty for authenticated requests (0 = bypass PoW)
# HADLINK_POW_DIFFICULTY_AUTH=0

# Rate limit per IP per minute
# HADLINK_RATE_LIMIT=10

# Comma-separated API keys for authenticated access
# HADLINK_API_KEYS=key1,key2

# Trust X-Forwarded-For header (only enable behind a trusted reverse proxy)
# HADLINK_TRUST_PROXY=false
